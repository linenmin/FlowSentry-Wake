- pipeline:
  - instance: rtspsrc
    location: rtsp://127.0.0.1:8554/0
    user-id: ''
    user-pw: ''
    latency: 500
    connections:
      stream_%u: rtspcapsfilter0.sink
  - instance: capsfilter
    caps: application/x-rtp,media=video
    name: rtspcapsfilter0
  - instance: decodebin
    force-sw-decoders: true
    caps: video/x-raw(ANY)
    expose-all-streams: false
    connections:
      src_%u: decodebin-link0.sink
  - instance: axinplace
    name: decodebin-link0
    lib: libinplace_addstreamid.so
    mode: meta
    options: stream_id:0
  - instance: axtransform
    lib: libtransform_colorconvert_cl.so
    options: format:rgb
  - instance: queue
    connections:
      src: inference-task0.sink_%u
    max-size-buffers: 4
    max-size-time: 0
    max-size-bytes: 0
  - instance: axinferencenet
    name: inference-task0
    model: /home/ubuntu/sam/software-platform/host/application/framework/build/fruit-demo/yolov8lpose-coco-onnx/1/model.json
    devices: metis-0:1:0,metis-0:4:0
    double_buffer: true
    dmabuf_inputs: true
    dmabuf_outputs: true
    num_children: 0
    preprocess0_lib: libtransform_resize_cl.so
    preprocess0_options: width:640;height:640;padding:114;letterbox:1;scale_up:1;to_tensor:1;mean:0.,0.,0.;std:1.,1.,1.;quant_scale:0.003921568859368563;quant_zeropoint:-128.0
    preprocess1_lib: libtransform_padding.so
    preprocess1_options: padding:0,0,1,1,1,15,0,0;fill:0
    preprocess1_batch: 1
    postprocess0_lib: libdecode_yolov8.so
    postprocess0_options: meta_key:master_detections;confidence_threshold:0.25;scales:0.05196806415915489,0.05954041704535484,0.055831149220466614,0.1206929162144661,0.17178687453269958,0.128541961312294,0.04205865412950516,0.057312075048685074,0.055938731878995895;padding:0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,63|0,0,0,0,0,0,0,63|0,0,0,0,0,0,0,63|0,0,0,0,0,0,0,13|0,0,0,0,0,0,0,13|0,0,0,0,0,0,0,13;zero_points:-65,-59,-63,107,108,95,17,6,6;classes:1;kpts_shape:17,3;model_width:640;model_height:640;scale_up:1;decoder_name:CocoBodyKeypointsMeta;
    postprocess0_mode: read
    postprocess1_lib: libinplace_nms.so
    postprocess1_options: meta_key:master_detections;max_boxes:300;nms_threshold:0.45;class_agnostic:1;location:CPU;
  - instance: axinplace
    lib: libinplace_filterdetections.so
    options: input_meta_key:master_detections;output_meta_key:master_detections_adapted_as_input_for_segmentations;hide_output_meta:1;which:AREA;top_k:5;min_width:0;min_height:0
  - instance: axinferencenet
    name: inference-task1
    model: /home/ubuntu/sam/software-platform/host/application/framework/build/fruit-demo/yolov8sseg-coco-onnx/1/model.json
    devices: metis-0:1:0,metis-0:4:0
    double_buffer: true
    dmabuf_inputs: true
    dmabuf_outputs: true
    num_children: 2
    meta: master_detections_adapted_as_input_for_segmentations
    preprocess0_lib: libtransform_roicrop.so
    preprocess0_options: meta_key:master_detections_adapted_as_input_for_segmentations
    preprocess1_lib: libtransform_resize_cl.so
    preprocess1_options: width:640;height:640;padding:114;letterbox:1;scale_up:1;to_tensor:1;mean:0.,0.,0.;std:1.,1.,1.;quant_scale:0.003921568859368563;quant_zeropoint:-128.0
    preprocess2_lib: libtransform_padding.so
    preprocess2_options: padding:0,0,1,1,1,15,0,0;fill:0
    preprocess2_batch: 1
    postprocess0_lib: libdecode_yolov8seg.so
    postprocess0_options: meta_key:segmentations;decoder_name:InstanceSegmentationMeta;master_meta:master_detections;association_meta:master_detections_adapted_as_input_for_segmentations;classes:80;confidence_threshold:0.25;scales:0.07754725962877274,0.06464468687772751,0.06458348780870438,0.09174417704343796,0.13210946321487427,0.1300065666437149,0.016546472907066345,0.017846718430519104,0.01850968599319458,0.02449675463140011;zero_points:-66,-65,-59,147,113,98,31,30,46,-116;padding:0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,48|0,0,0,0,0,0,0,48|0,0,0,0,0,0,0,48|0,0,0,0,0,0,0,32|0,0,0,0,0,0,0,32|0,0,0,0,0,0,0,32|0,0,0,0,0,0,0,32;multiclass:0;classlabels_file:/tmp/tmpc39jxt9d;model_width:640;model_height:640;;label_filter:46,47,49
    postprocess0_mode: read
    postprocess1_lib: libinplace_nms.so
    postprocess1_options: meta_key:segmentations;master_meta:master_detections;max_boxes:300;nms_threshold:0.45;class_agnostic:0;location:CPU;
  - instance: axinferencenet
    name: inference-task2
    model: /home/ubuntu/sam/software-platform/host/application/framework/build/fruit-demo/yolov8s-fruit/1/model.json
    devices: metis-0:1:0,metis-0:4:0
    double_buffer: true
    dmabuf_inputs: true
    dmabuf_outputs: true
    num_children: 0
    preprocess0_lib: libtransform_resize_cl.so
    preprocess0_options: width:640;height:640;padding:114;letterbox:1;scale_up:1;to_tensor:1;mean:0.,0.,0.;std:1.,1.,1.;quant_scale:0.003921568859368563;quant_zeropoint:-128.0
    preprocess1_lib: libtransform_padding.so
    preprocess1_options: padding:0,0,1,1,1,15,0,0;fill:0
    preprocess1_batch: 1
    postprocess0_lib: libdecode_yolov8.so
    postprocess0_options: meta_key:object_detections;classes:80;confidence_threshold:0.25;scales:0.07285504788160324,0.06671176105737686,0.07106465846300125,0.10055512189865112,0.15698717534542084,0.16728559136390686;padding:0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,0|0,0,0,0,0,0,0,48|0,0,0,0,0,0,0,48|0,0,0,0,0,0,0,48;zero_points:-61,-60,-44,133,104,110;topk:30000;multiclass:0;classlabels_file:/tmp/tmp5d9cb82p;model_width:640;model_height:640;scale_up:1;letterbox:1;label_filter:46,47,49
    postprocess0_mode: read
    postprocess1_lib: libinplace_nms.so
    postprocess1_options: meta_key:object_detections;max_boxes:300;nms_threshold:0.45;class_agnostic:1;location:CPU
  - instance: appsink
    max-buffers: 4
    drop: false
    sync: false
