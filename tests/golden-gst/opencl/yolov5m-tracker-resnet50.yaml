- pipeline:
  - instance: filesrc
    location: {{input_video0}}
  - instance: decodebin
    force-sw-decoders: {{force_sw_decoders}}
    caps: video/x-raw(ANY)
    expose-all-streams: false
    connections:
      src_%u: decodebin-link0.sink
  - instance: axinplace
    name: decodebin-link0
    lib: libinplace_addstreamid.so
    mode: meta
    options: stream_id:0
  - instance: axtransform
    lib: libtransform_colorconvert_cl.so
    options: format:rgb
  - instance: queue
    name: queue0
    connections:
      src: inference-task0.sink_%u
    max-size-buffers: 4
    max-size-time: 0
    max-size-bytes: 0
  - instance: axinferencenet
    name: inference-task0
    model: {{model_lib0}}
    devices: metis-0:1:0
    double_buffer: true
    dmabuf_inputs: true
    dmabuf_outputs: true
    num_children: 3
    preprocess0_lib: libtransform_resize_cl.so
    preprocess0_options: width:640;height:640;padding:114;letterbox:1;scale_up:1;to_tensor:1;mean:0.,0.,0.;std:1.,1.,1.;quant_scale:0.003919653594493866;quant_zeropoint:-128.0
    preprocess1_lib: libtransform_padding.so
    preprocess1_options: padding:{{pads0}};fill:0
    preprocess1_batch: 1
    postprocess0_lib: libdecode_yolov5.so
    postprocess0_options: meta_key:{{task_name0}};anchors:1.25,1.625,2.0,3.75,4.125,2.875,1.875,3.8125,3.875,2.8125,3.6875,7.4375,3.625,2.8125,4.875,6.1875,11.65625,10.1875;classes:80;confidence_threshold:0.3;scales:0.0038571979384869337,0.0038748111110180616,0.0038069516886025667;zero_points:-128,-128,-128;topk:30000;multiclass:0;sigmoid_in_postprocess:0;transpose:1;classlabels_file:{{label_file}};model_width:640;model_height:640;scale_up:1;letterbox:1
    postprocess0_mode: read
    postprocess1_lib: libinplace_nms.so
    postprocess1_options: meta_key:{{task_name0}};max_boxes:{{nms_top_k}};nms_threshold:0.5;class_agnostic:0;location:CPU
  - instance: axinplace
    lib: libinplace_filterdetections.so
    options: input_meta_key:{{task_name0}};output_meta_key:{{task_name0}}_adapted_as_input_for_{{task_name1}};hide_output_meta:1;min_width:10;min_height:10
  - instance: axinplace
    lib: libinplace_tracker.so
    mode: ''
    options: tracker_meta_key:{{task_name1}};input_meta_key:{{task_name0}}_adapted_as_input_for_{{task_name1}};output_meta_key:boxes_created_by_tracker_task_{{task_name1}};history_length:1;algorithm:oc-sort;algo_params_json:{{tracker_params_json0}};filter_callbacks:key=classifications&lib=libtrackerfilter_numsubtaskruns.so&num_subtask_runs=10;determine_object_attribute_callbacks:key=classifications&lib=libtrackerattribute_bestscore.so;
  - instance: axinplace
    lib: libinplace_filterdetections.so
    options: input_meta_key:{{task_name1}}_adapted_as_input_for_{{task_name2}};output_meta_key:{{task_name1}}_adapted_as_input_for_{{task_name2}};hide_output_meta:1;which:AREA;top_k:10;min_width:0;min_height:0
  - instance: axinferencenet
    name: inference-task2
    model: {{model_lib2}}
    devices: metis-0:1:0
    double_buffer: true
    dmabuf_inputs: true
    dmabuf_outputs: true
    num_children: 0
    meta: "{{task_name1}}_adapted_as_input_for_{{task_name2}}"
    preprocess0_lib: libtransform_roicrop.so
    preprocess0_options: meta_key:{{task_name1}}_adapted_as_input_for_{{task_name2}}
    preprocess1_lib: libtransform_centrecropextra.so
    preprocess1_options: cropsize:224;scalesize:256
    preprocess2_lib: libtransform_resize_cl.so
    preprocess2_options: size:224;to_tensor:1;mean:0.485,0.456,0.406;std:0.229,0.224,0.225;quant_scale:0.01863;quant_zeropoint:-14.0
    preprocess3_lib: libtransform_padding.so
    preprocess3_options: padding:{{pads2}};fill:0
    preprocess3_batch: 1
    postprocess0_lib: libtransform_dequantize.so
    postprocess0_options: dequant_scale:{{dequant_scale2}};dequant_zeropoint:{{dequant_zeropoint2}};transpose:0;dequant_lut:1
    postprocess1_lib: libdecode_classification.so
    postprocess1_options: meta_key:{{task_name2}};master_meta:{{task_name1}};association_meta:{{task_name1}}_adapted_as_input_for_{{task_name2}};classlabels_file:{{label_file2}};top_k:1;softmax:0
  - instance: appsink
    max-buffers: 4
    drop: false
    sync: false
